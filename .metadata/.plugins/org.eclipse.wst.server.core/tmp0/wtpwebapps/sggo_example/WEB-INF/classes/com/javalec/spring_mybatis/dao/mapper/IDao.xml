<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.javalec.spring_mybatis.dao.mapper">


  
	<select id="listDao" resultType="com.javalec.spring_mybatis.dto.User">
	
	
		SELECT * FROM JOINUS ORDER BY id DESC
	</select>
	
	
	<insert id="writeDao">
		INSERT INTO MEMBER (name, telnumber, id, password, email) VALUES (#{param1}, #{param2},#{param3},#{param4},#{param5})
	</insert>
	
	
	<delete id="deleteDao">
		DELETE FROM MEMBER WHERE id = #{param1}
	</delete>
	
	
	<insert id = "joinusDao" parameterType="com.javalec.spring_mybatis.dto.User">
		INSERT INTO JOINUS (name, telnumber, id , password, email, job) VALUES (#{name},#{telnumber},#{id},#{password},#{email},#{job})
	</insert>
	
	
	
	<insert id = "medicine" parameterType="com.javalec.spring_mybatis.dto.Medicine">
		INSERT INTO MEDICINE (request_date, symptom, medicine_category, medicine_amount, medicine_count, medicine_time,
		                    medicine_storage, another_content, sign_bitmap_bytecode, parent_id) 
		                    VALUES (#{request_date},#{symptom},#{medicine_category},#{medicine_amount},#{medicine_count},
		                    #{medicine_time}, #{medicine_storage}, #{another_content}, #{sign_bitmap_bytecode}, #{parent_id});
	</insert>
	
	<select id="parent_medicineList" parameterType="java.util.Map" resultType="com.javalec.spring_mybatis.dto.Medicine">
		SELECT * FROM MEDICINE WHERE parent_id=#{parent_id};
	</select>
	
	<select id="teacher_medicineList" parameterType="java.util.Map" resultType="com.javalec.spring_mybatis.dto.Medicine">
		SELECT * FROM MEDICINE WHERE teacher_id=#{teacher_id};
	</select>
	
	
	
	<insert id = "loginDao">
		SELECT ID, PASSWORD FROM JOINUS WHERE ID=#{param1}
	</insert>
	
	<select id="loginIdentify" resultType="String" parameterType="String" >

		
			select count(*)  from joinus  where id=#{param1} and password=#{param2}

 		

	</select>
	
	
	
	
	<select id="login_Dao" resultType="com.javalec.spring_mybatis.dto.User" parameterType="com.javalec.spring_mybatis.dto.User">
	
	
		SELECT name, job FROM JOINUS WHERE id=#{id} AND password=#{password}
		
	</select>
	
	
	
	
	
	
	
	<select id="chk_id_Dao" parameterType="String" resultType="String">
        SELECT id FROM JOINUS WHERE id=#{chk_id}
    </select>
	
	<select id="job_session_Dao" parameterType="String" resultType="String">
        SELECT job FROM JOINUS WHERE id=#{id}
    </select>
	
    
    <select id="loginCheck" resultType="String">
        SELECT user_name AS userName FROM tbl_member
        WHERE user_id = #{userId} AND user_pw = #{userPw}
    </select>
	
</mapper>


